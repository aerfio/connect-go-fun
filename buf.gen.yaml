version: v1
plugins:
  - plugin: go
    out: gen
    opt: paths=source_relative
    path: bin/protoc-gen-go
  - plugin: connect-go
    out: gen
    opt: paths=source_relative
    path: bin/protoc-gen-connect-go
  # This will invoke protoc-gen-es and write output to src/gen
  - plugin: es
    out: src/gen
    opt:
      # Add more plugin options here
      - target=ts
    path: "./node_modules/.bin/protoc-gen-es"
  - plugin: connect-es
    out: src/gen
    opt:
      # Add more plugin options here
      - target=ts
      - ts_nocheck=false
    path: "./node_modules/.bin/protoc-gen-connect-es"
